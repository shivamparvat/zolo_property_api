(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[956],{2429:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/property",function(){return a(3854)}])},4090:function(e,t,a){"use strict";a.d(t,{i:function(){return n}});let n=e=>{let t=new Date(e),a=t.toLocaleString("en-US",{day:"2-digit",month:"2-digit",year:"numeric",hour12:!0});return a}},3854:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var n=a(5893),l=a(5049),r=a(7294),i=a(9473),s=a(3023),o=a(4090),d=a(6704),u=a(5379),c=a(8711),p=a(7435),v=a(5292),m=a(4779),y=a(1192),_=a(9471),h=a(1163),x=e=>{let{data:t}=e,a=(0,i.I0)(),l=(0,h.useRouter)(),r=async e=>{try{let n=await m.Z.put("property/update",{...t,admin_status:e},t._id,!0);200==n.status?(a((0,v.N)(!1)),a((0,y.d)(!0))):401===n.data.status&&(a((0,_.gy)()),null==l||l.push("/login"))}catch(e){a((0,v.N)(!1))}finally{a((0,v.N)(!1))}};return(0,n.jsx)("div",{className:"dataTables_filter mb-1",children:(0,n.jsx)("select",{className:"form-select ",onChange:e=>{r(e.target.value)},"aria-label":"Default select example",children:u.wh.map((e,a)=>(0,n.jsx)("option",{value:u.XQ[e],selected:(null==t?void 0:t.admin_status)===u.XQ[e],children:e},a))})})},f=a(9332),j=a(9583),b=()=>{var e;let t="property";p.Z.path=t;let a=(0,i.I0)(),v=(0,f.useRouter)(),m=(0,i.v9)(e=>{var t;return null===(t=e.login.userToken)||void 0===t?void 0:t.token}),y=(0,i.v9)(e=>e.recallApi.recallApi),[_,h]=(0,r.useState)(1),[b,g]=(0,r.useState)(u.Wh),[N,k]=(0,r.useState)({list:[],pagination:{total:0}}),[w,S]=(0,r.useState)({}),[C,E]=(0,r.useState)(""),[F,P]=(0,r.useState)(!1),[T,Z]=(0,r.useState)({post_id:0});(0,r.useEffect)(()=>(p.Z.get(_,b,k),()=>{}),[b,m,a,_,y]);let A=[{value:"S.No",index:!0},{value:"Id",component:e=>{let{data:t}=e;return(0,n.jsx)("div",{children:((null==t?void 0:t.unique_id)||"").slice(-6).toUpperCase()})}},{value:"user",key:"name"},{value:"Number",component:e=>{var t;let{data:a}=e;return(0,n.jsx)("div",{style:{width:"180px"},children:null==a?void 0:null===(t=a.user)||void 0===t?void 0:t.contact_number})}},{value:"Address",component:e=>{let{data:t}=e;return(0,n.jsx)(n.Fragment,{children:"".concat(t.city||""," ").concat(t.state||""," ").concat(t.zip_code||"")})}},{value:"For",key:"property_for"},{value:"Type",key:"property_type"},{value:"user Type",key:"added_by_type"},{value:"Price",component:e=>{let{data:t}=e;return(0,n.jsx)(n.Fragment,{children:(null==t?void 0:t.property_for)=="sell"?null==t?void 0:t.expected_price:"".concat(null==t?void 0:t.monthly_rent,"/M")})}},{value:"user Type",key:"added_by_type"},{value:"status",component:x},{key:"created_at",value:"Created At",component:e=>{let{data:t}=e;return(0,n.jsx)(n.Fragment,{children:(0,o.i)(t.createdAt)})}},{value:"Status",component:e=>{let{data:t}=e;return(0,n.jsx)(s.OF,{data:t})}},{value:"Action",component:e=>{let{data:t}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{onClick:()=>{v.push("/property/edit?id=".concat(t._id))},className:"btn btn-warning","data-tooltip":"Edit",children:(0,n.jsx)(j.fmQ,{size:16})}),"\xa0"]}),(0,n.jsx)(s.EY,{data:t,setSelected:S,setEdit:E,id:t._id,disable:[s.dm]})]})},className:"d-flex justify-content-center"}];return(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("div",{className:"card bg-white",children:(0,n.jsx)("div",{className:"card-datatable",children:(0,n.jsxs)("div",{className:"dataTables_wrapper dt-bootstrap5",children:[(0,n.jsx)(c.ZP,{title:"List of ".concat(t),onAddClick:()=>v.push("/property/edit?id=10"),onExportClick:()=>{p.Z.download()},disable:[c.bi,c.aO]}),(0,n.jsx)(l.ZP,{filter:b,disable:[],setFilter:g,orderBy:["name","location"],unable:(null==b?void 0:b.property_for)=="rent"||(null==b?void 0:b.property_for)=="sell"?[l.k2,l.KX]:[]}),(0,n.jsx)(s.ZP,{tableCustomize:A,data:N&&(null==N?void 0:N.list),StartIndex:+b.limit*(+_-1)+1||1}),(0,n.jsx)(d.Z,{currentPage:_||0,limit:b.limit,setCurrentPage:h,total:N&&(null===(e=N.pagination)||void 0===e?void 0:e.total)||0})]})})})})}}},function(e){e.O(0,[86,752,291,774,888,179],function(){return e(e.s=2429)}),_N_E=e.O()}]);